@tailwind base;
@tailwind components;
@tailwind utilities;

/* Quill Editor Styles */
@import 'react-quill/dist/quill.snow.css';

/* Custom Quill overrides */
.ql-toolbar {
  border-top: none !important;
  border-left: none !important;
  border-right: none !important;
  border-bottom: 1px solid #e5e7eb !important;
  background: #f9fafb !important;
  padding: 8px 12px !important;
}

.ql-container {
  border: none !important;
  font-family: inherit !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
}

.ql-editor {
  padding: 12px !important;
  min-height: 120px !important;
}

.ql-editor.ql-blank::before {
  color: #9ca3af !important;
  font-style: normal !important;
}

.ql-toolbar .ql-formats {
  margin-right: 8px !important;
}

.ql-toolbar button {
  padding: 4px !important;
  margin: 0 1px !important;
  border-radius: 4px !important;
  transition: all 0.2s !important;
}

.ql-toolbar button:hover {
  background: #e5e7eb !important;
}

.ql-toolbar button.ql-active {
  background: #3b82f6 !important;
  color: white !important;
}

/* Scrollbar Styles */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

/* Animation for drag and drop */
.sortable-ghost {
  opacity: 0.5;
}

.sortable-chosen {
  transform: scale(1.02);
}

.sortable-drag {
  transform: rotate(2deg);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
}

/* Resizable Panel Styles */
[data-panel-group] {
  display: flex;
}

[data-panel-group][data-panel-group-direction="horizontal"] {
  flex-direction: row;
}

[data-panel-group][data-panel-group-direction="vertical"] {
  flex-direction: column;
}

[data-panel] {
  flex: 1 1 0%;
  overflow: hidden;
}

[data-panel-resize-handle] {
  flex: none;
  outline: none;
  position: relative;
}

[data-panel-resize-handle]:focus-visible {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

[data-panel-resize-handle][data-panel-resize-handle-active] {
  cursor: col-resize;
}

[data-panel-resize-handle][data-panel-resize-handle-direction="horizontal"] {
  cursor: col-resize;
}

[data-panel-resize-handle][data-panel-resize-handle-direction="vertical"] {
  cursor: row-resize;
}

/* Custom resize handle styling */
.resize-handle {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #f1f5f9;
  transition: background-color 0.2s ease;
}

.resize-handle:hover {
  background: #e2e8f0;
}

.resize-handle::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 4px;
  height: 32px;
  background: #cbd5e1;
  border-radius: 2px;
  transition: background-color 0.2s ease;
}

.resize-handle:hover::before {
  background: #94a3b8;
}

/* Interactive preview styles - FIXED z-index issues */
.admin-preview-container {
  /* Reduce animations in admin preview for better performance */
  * {
    animation-duration: 0.2s !important;
    animation-delay: 0s !important;
    transition-duration: 0.2s !important;
    transition-delay: 0s !important;
  }
  
  /* Enable pointer events for interactive editing */
  pointer-events: auto;
}

.admin-preview-wrapper {
  /* Ensure proper scaling */
  transform-origin: top left;
  width: 100%;
  overflow: visible; /* Changed from hidden to visible for dropdowns */
  /* Enable interactions for editing */
  pointer-events: auto;
}

/* Override fixed positioning for header in preview */
.admin-preview-container header {
  position: relative !important;
  top: auto !important;
  left: auto !important;
  right: auto !important;
  z-index: 50 !important; /* Reduced from 9999 to 50 */
}

/* Ensure header content is visible and dropdowns work */
.admin-preview-container .fixed {
  position: relative !important;
}

/* Ensure dropdowns are visible in preview - FIXED z-index */
.admin-preview-container [class*="dropdown"],
.admin-preview-container [class*="menu"] {
  z-index: 100 !important; /* Reduced from 9999 to 100 */
  position: absolute !important;
}

/* Make sure mega menus are visible - FIXED z-index */
.admin-preview-container .absolute {
  z-index: 100 !important; /* Reduced from 9999 to 100 */
}

/* Ensure proper stacking for interactive elements - FIXED z-index */
.admin-preview-container .group:hover > div[class*="absolute"] {
  z-index: 100 !important; /* Reduced from 9999 to 100 */
}

/* Highlight effects for interactive elements */
.highlightable-element {
  position: relative;
  transition: all 0.2s ease;
}

.highlightable-element:hover {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
  border-radius: 4px;
}

.highlightable-element.highlighted {
  outline: 2px solid #ef4444;
  outline-offset: 2px;
  border-radius: 4px;
  background-color: rgba(239, 68, 68, 0.05);
}

/* Remove white overlay issues by ensuring proper background inheritance */
.admin-preview-container section,
.admin-preview-container div {
  background: inherit;
}

/* Ensure sections don't have unwanted white backgrounds */
.admin-preview-container section:not([class*="bg-"]) {
  background: transparent !important;
}